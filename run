#!/usr/bin/env python2.7

from __future__ import print_function

import keyboard, LED, ticker

led = LED.LED()
ticker = led.ticker

HANDLER = {
    'q': led.exit,
    '+': lambda: ticker.change_speed(-10),
    '-': lambda: ticker.change_speed(10),
    ' ': ticker.toggle_pause,
    '/': ticker.reverse,
    'j': lambda: ticker.increment_selected(-1),
    'k': ticker.increment_selected,
    'f': ticker.toggle_flash_selected,
    'r': lambda: ticker.randomize,
    }

def handle_keystrokes(ch):
    HANDLER.get(ch, lambda: print('Don\'t understand character', ch, ord(ch)))()

thread = keyboard.threaded(handle_keystrokes)

try:
    led.run()
except KeyboardInterrupt:
    led.exit()
